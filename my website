<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peddapuram Home Services - Electric & Plumbing</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#1a1a1a', // Deep Charcoal/Black for premium feel
                        'accent-blue': '#007bff', // Electric Blue for high-impact CTA
                        'background-soft': '#f8f8f8', // Near-white clean background
                        'text-dark': '#1a1a1a',
                        'card-border': '#e0e0e0',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Ensuring smooth transitions for hover effects */
        .transition-all { transition: all 0.3s ease-in-out; }
        .service-card { 
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, border-color 0.2s ease-in-out;
            border: 1px solid theme('colors.card-border'); 
        }
        .service-card:hover { 
            transform: translateY(-5px); /* Bigger lift for wow factor */
            /* Stronger, more elegant shadow */
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.15); 
            border-color: theme('colors.accent-blue'); /* Highlight border on hover */
        }
        /* Style for the premium rating text */
        .rating-text {
            color: theme('colors.text-dark');
        }
        /* Custom spinner for loading state */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top: 4px solid white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-background-soft font-sans text-text-dark">

    <!-- Gemini API Logic --><script>
        // API Configuration (Leave API Key empty string as required for runtime injection)
        const apiKey = ""; 
        const modelName = "gemini-2.5-flash-preview-09-2025";
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${modelName}:generateContent?key=${apiKey}`;

        // System Instruction: Sets the persona for the LLM
        const systemPrompt = "You are a friendly, local home service advisor for Peddapuram Home Services. Your goal is to provide a brief, professional, and non-technical assessment of the user's electrical or plumbing problem. You must always end your response by strongly recommending they call the professional for a safe and guaranteed solution. Keep the response to 2-3 short paragraphs.";

        /**
         * Generic function to call the Gemini API with exponential backoff.
         */
        async function callGeminiAPI(userQuery, maxRetries = 5) {
            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };

            for (let attempt = 0; attempt < maxRetries; attempt++) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        const result = await response.json();
                        const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't generate advice right now. Please call us directly!";
                        return text;
                    } else if (response.status === 429 && attempt < maxRetries - 1) {
                        // Rate limit exceeded, apply exponential backoff
                        const delay = Math.pow(2, attempt) * 1000 + Math.random() * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                        // Continue to next attempt
                    } else {
                        // Other errors or last retry failed
                        const errorData = await response.json();
                        throw new Error(`API call failed: ${response.status} ${response.statusText}`);
                    }
                } catch (error) {
                    if (attempt === maxRetries - 1) {
                         throw new Error(`Failed to connect to the advisor after ${maxRetries} attempts.`);
                    }
                }
            }
        }

        /**
         * Handles the UI state and calls the Gemini API when the button is clicked.
         */
        async function handleAdviceGeneration() {
            const input = document.getElementById('problemInput');
            const button = document.getElementById('generateAdviceBtn');
            const outputContainer = document.getElementById('adviceOutputContainer');
            const output = document.getElementById('adviceOutput');
            const userQuery = input.value.trim();

            if (userQuery.length < 10) {
                output.innerHTML = '<p class="text-red-500">Please describe your problem with a little more detail.</p>';
                outputContainer.classList.remove('hidden');
                return;
            }

            // 1. Set Loading State
            button.disabled = true;
            button.innerHTML = '<span class="spinner mr-2"></span> Generating Advice...';
            output.innerHTML = '<p class="text-gray-500">Checking symptoms...</p>';
            outputContainer.classList.remove('hidden');

            try {
                // 2. Call API
                const adviceText = await callGeminiAPI(userQuery);

                // 3. Update UI with result
                output.innerHTML = adviceText;

            } catch (error) {
                // 4. Handle Errors
                output.innerHTML = `<p class="text-red-500">Connection Error. Please try again or call us directly: +91 80082 54206</p>`;
            } finally {
                // 5. Reset UI
                button.disabled = false;
                button.innerHTML = 'Get Advice Now ✨';
            }
        }
    </script>
    
    <!-- Sticky Call Button for Mobile (Highly visible CTA) --><div class="fixed bottom-0 left-0 right-0 z-50 bg-accent-blue p-3 shadow-2xl md:hidden">
        <a href="tel:+918008254206" class="flex items-center justify-center text-center w-full text-white font-extrabold text-xl tracking-wider rounded-lg p-2 transition-all hover:bg-blue-600">
            <!-- Phone Icon SVG (Lucide) --><svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
            CALL NOW! (24/7)
        </a>
    </div>

    <!-- Header Section --><header class="bg-white shadow-lg sticky top-0 z-40 border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-2xl sm:text-3xl font-extrabold text-text-dark tracking-tight">
                <span class="text-accent-blue">Peddapuram</span> Services
            </h1>
            <!-- Desktop CTA --><a href="tel:+918008254206" class="hidden md:inline-flex items-center bg-accent-blue text-white font-bold py-2 px-5 rounded-full shadow-lg hover:bg-blue-600 transition-all text-base">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                Call: +91 80082 54206
            </a>
        </div>
    </header>
    
    <!-- Star Rating Banner (Clean and professional gold stars) --><section class="bg-white py-3 border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row justify-center items-center">
            <!-- 5 Star Icons (using gold/yellow for standard review color) --><div class="flex space-x-0.5 text-yellow-400 text-3xl mb-1 sm:mb-0 sm:mr-4">
                <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/></svg>
                <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/></svg>
                <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/></svg>
                <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/></svg>
                <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/></svg>
            </div>
            <!-- Rating Text --><p class="text-sm font-semibold rating-text">
                5.0 Star Rating &nbsp;
                <span class="text-xs text-gray-500 font-normal">(45+ Verified Local Reviews)</span>
            </p>
        </div>
    </section>

    <!-- Hero Section - High Contrast and Impact --><section class="bg-primary-dark py-20 sm:py-32 text-center text-white shadow-2xl">
        <div class="max-w-4xl mx-auto px-4">
            <h2 class="text-5xl sm:text-6xl lg:text-7xl font-extrabold mb-6 leading-tight">
                <span class="text-accent-blue">Reliable</span> Electrical & Plumbing
            </h2>
            <p class="text-xl sm:text-2xl text-gray-300 mb-10 max-w-3xl mx-auto font-light">
                **Peddapuram's** most trusted home service expert since 1995. We deliver guaranteed results on time.
            </p>
            <a href="tel:+918008254206" class="inline-block bg-accent-blue text-white font-extrabold text-3xl py-4 px-12 rounded-lg shadow-2xl transition-all transform hover:scale-105 hover:bg-blue-600 ring-4 ring-blue-400/50">
                TAP TO CALL (24/7 Service)
            </a>
        </div>
    </section>

    <!-- Services Section - Clean White Cards on Soft Background --><section id="services" class="py-16 sm:py-24 bg-background-soft">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h3 class="text-3xl sm:text-4xl font-bold text-center mb-16 text-primary-dark">
                Our Guaranteed Services
            </h3>

            <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">

                <!-- Service Card 1: Electrical Repairs --><a href="tel:+918008254206" class="service-card text-center block p-4 sm:p-8 rounded-2xl bg-white shadow-xl hover:shadow-2xl transition-all">
                    <!-- Icon: Plug/Repairs --><div class="flex justify-center mb-4">
                        <svg class="w-14 h-14 text-accent-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.586a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                    </div>
                    <h4 class="text-xl font-bold mb-1 text-text-dark">Electrical Repairs</h4>
                    <p class="text-sm text-gray-600 mt-2">Fault diagnosis, fuse repair, switchboard replacement, and fan fixing.</p>
                </a>

                <!-- Service Card 2: New Wiring & Setup --><a href="tel:+918008254206" class="service-card text-center block p-4 sm:p-8 rounded-2xl bg-white shadow-xl hover:shadow-2xl transition-all">
                    <!-- Icon: Blueprint/House Plan --><div class="flex justify-center mb-4">
                        <svg class="w-14 h-14 text-primary-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1M5 21v-7a2 2 0 012-2h10a2 2 0 012 2v7"></path></svg>
                    </div>
                    <h4 class="text-xl font-bold mb-1 text-text-dark">New Installation</h4>
                    <p class="text-sm text-gray-600 mt-2">Meter pole wiring, full house rewiring, safety checks, and new connections.</p>
                </a>

                <!-- Service Card 3: Power Backup & Appliances --><a href="tel:+918008254206" class="service-card text-center block p-4 sm:p-8 rounded-2xl bg-white shadow-xl hover:shadow-2xl transition-all">
                    <!-- Icon: Bolt/Inverter --><div class="flex justify-center mb-4">
                        <svg class="w-14 h-14 text-accent-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    </div>
                    <h4 class="text-xl font-bold mb-1 text-text-dark">Inverter & Power</h4>
                    <p class="text-sm text-gray-600 mt-2">Professional inverter setup, troubleshooting, and regular annual servicing.</p>
                </a>

                <!-- Service Card 4: Plumbing --><a href="tel:+918008254206" class="service-card text-center block p-4 sm:p-8 rounded-2xl bg-white shadow-xl hover:shadow-2xl transition-all">
                    <!-- NEW Icon: Plumber Silhouette and Wrench --><div class="flex justify-center mb-4">
                        <svg class="w-14 h-14 text-primary-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="2">
                            <!-- Plumber/Worker Silhouette -->
                            <circle cx="9" cy="7" r="3" stroke-width="2"/>
                            <path stroke-linecap="round" stroke-linejoin="round" d="M1 21v-2a4 4 0 014-4h8a4 4 0 014 4v2" stroke-width="2"/>
                            <!-- Wrench (Tool) -->
                            <path stroke-linecap="round" stroke-linejoin="round" d="M18 13l4 4-2 2-4-4 2-2zM20 19l2 2" stroke-width="2"/>
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.5 14.5l-2-2" stroke-width="2"/>
                        </svg>
                    </div>
                    <h4 class="text-xl font-bold mb-1 text-text-dark">Plumbing Works</h4>
                    <p class="text-sm text-gray-600 mt-2">Leak detection, tap and fixture repair/installation, and new water lines.</p>
                </a>

            </div>
        </div>
    </section>

    <!-- LLM Feature Section: Instant Symptom Checker --><section id="gemini-advisor" class="py-16 sm:py-20 bg-background-soft">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white p-8 sm:p-10 rounded-2xl shadow-2xl border-b-4 border-accent-blue">
                <h3 class="text-3xl font-bold text-center mb-4 text-primary-dark flex items-center justify-center">
                    <span class="mr-3 text-4xl">✨</span> Instant Symptom Checker
                </h3>
                <p class="text-center text-lg text-gray-600 mb-8">
                    Describe your electrical or plumbing problem below, and get immediate advice on the likely issue and next steps.
                </p>

                <textarea id="problemInput" rows="3" class="w-full p-4 border border-gray-300 rounded-lg focus:ring-accent-blue focus:border-accent-blue resize-none mb-6 text-base" placeholder="E.g., Everyone else's house has power, but mine doesn't. What could be the problem?"></textarea>

                <button id="generateAdviceBtn" onclick="handleAdviceGeneration()" class="w-full bg-primary-dark text-white font-bold py-3 px-6 rounded-lg text-xl transition-all hover:bg-gray-800 disabled:opacity-50 flex items-center justify-center">
                    Get Advice Now ✨
                </button>
                
                <!-- Output Container --><div id="adviceOutputContainer" class="mt-8 pt-6 border-t border-gray-200 hidden">
                    <h4 class="text-xl font-bold mb-3 text-primary-dark">Our Advisor Says:</h4>
                    <div id="adviceOutput" class="p-4 bg-background-soft border border-dashed border-gray-300 rounded-lg text-gray-700 leading-relaxed min-h-[50px]">
                        <!-- Advice content goes here --></div>
                </div>
            </div>
        </div>
    </section>
    <!-- End LLM Feature Section --><!-- Final Call to Action --><div class="text-center mt-20 pt-10 border-t border-gray-300">
        <p class="text-2xl text-primary-dark font-extrabold mb-6">
            Ready for reliable service? We are just a call away.
        </p>
        <a href="tel:+918008254206" class="inline-flex items-center bg-primary-dark text-white font-bold py-4 px-10 rounded-lg shadow-xl hover:bg-gray-800 transition-all text-xl">
            <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
            Call Now: +91 80082 54206
        </a>
    </div>
        
    <!-- Footer Section --><footer class="bg-primary-dark mt-12 py-10 text-center">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <p class="text-white text-xl font-semibold mb-3">
                Peddapuram Home Services
            </p>
            <a href="tel:+918008254206" class="text-accent-blue text-4xl font-extrabold hover:text-blue-400 transition-all">
                +91 80082 54206
            </a>
            <p class="text-white text-base mt-2 font-medium">
                Service Provider: Abdul Aleem
            </p> 
            <p class="text-sm text-gray-500 mt-5">
                © 2025. Quality service since 1995. Locally operated and trusted.
            </p>
        </div>
    </footer>
    
</body>
</html>